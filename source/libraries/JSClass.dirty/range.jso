JS.Range=new JS.Class("Range",{include:JS.Enumerable||{},extend:{compare:function(a,b){return JS.isType(a,Object)?a.compareTo(b):a<b?-1:a>b?1:0},succ:function(a){if(JS.isType(a,"string")){var b=a.split(""),c=b.length,d=null,e=null,f=!0;while(f&&c--)d=null,JS.Enumerable.forEach.call(this.SETS,function(a){var f=this[a];if(b[c]!==f._0)return;e=f,d=f._1},this),d===null&&(d=String.fromCharCode(b[c].charCodeAt(0)+1),f=!1),b[c]=d;return f&&b.unshift(e._1==="0"?"1":e._1),b.join("")}return JS.isType(a,"number")?a+1:typeof a.succ=="function"?a.succ():null}},initialize:function(a,b,c){this._1=a,this._0=b,this._2=!!c},forEach:function(a,b){if(!a)return this.enumFor("forEach");a=JS.Enumerable.toFn(a);var c=this._1,d=this._2;if(this.klass.compare(c,this._0)>0)return;var e=JS.isType(c,Object)?function(a,b){return a.compareTo(b)<0}:function(a,b){return a!==b};while(e(c,this._0)){a.call(b||null,c),c=this.klass.succ(c);if(JS.isType(c,"string")&&c.length>this._0.length){d=!0;break}}if(this.klass.compare(c,this._0)>0)return;d||a.call(b||null,c)},equals:function(a){return JS.isType(a,JS.Range)&&JS.Enumerable.areEqual(a._1,this._1)&&JS.Enumerable.areEqual(a._0,this._0)&&a._2===this._2},hash:function(){var a=JS.Hash.codeFor(this._1)+"..";return this._2&&(a+="."),a+=JS.Hash.codeFor(this._0),a},first:function(){return this._1},last:function(){return this._0},excludesEnd:function(){return this._2},includes:function(a){var b=this.klass.compare(a,this._1),c=this.klass.compare(a,this._0);return b>=0&&(this._2?c<0:c<=0)},step:function(a,b,c){if(!b)return this.enumFor("step",a);b=JS.Enumerable.toFn(b);var d=0;this.forEach(function(f){d%a===0&&b.call(c||null,f),d+=1})},toString:function(){var a=this._1.toString()+"..";return this._2&&(a+="."),a+=this._0.toString(),a}}),JS.Range.extend({DIGITS:new JS.Range("0","9"),LOWERCASE:new JS.Range("a","z"),UPPERCASE:new JS.Range("A","Z"),SETS:["DIGITS","LOWERCASE","UPPERCASE"]}),JS.Range.alias({begin:"first",end:"last",covers:"includes",match:"includes",member:"includes"});