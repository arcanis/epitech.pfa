JS.Observable=new JS.Module("Observable",{extend:{DEFAULT_METHOD:"update"},addObserver:function(a,b){(this.__observers__=this.__observers__||[]).push({_0:a,_1:b||null})},removeObserver:function(a,b){this.__observers__=this.__observers__||[],b=b||null;var c=this.countObservers();while(c--)if(this.__observers__[c]._0===a&&this.__observers__[c]._1===b){this.__observers__.splice(c,1);return}},removeObservers:function(){this.__observers__=[]},countObservers:function(){return(this.__observers__=this.__observers__||[]).length},notifyObservers:function(){if(!this.isChanged())return;var a=this.countObservers(),b,c,d;while(a--)b=this.__observers__[a],c=b._0,d=b._1,typeof c=="function"?c.apply(d||null,arguments):c[d||JS.Observable.DEFAULT_METHOD].apply(c,arguments)},setChanged:function(a){this.__changed__=a!==!1},isChanged:function(){return this.__changed__===undefined&&(this.__changed__=!0),!!this.__changed__}}),JS.Observable.alias({subscribe:"addObserver",unsubscribe:"removeObserver"},!0);